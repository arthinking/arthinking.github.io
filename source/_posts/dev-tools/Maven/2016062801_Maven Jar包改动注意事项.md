---
title: Maven Jar包改动注意事项
permalink: Maven Jar包改动注意事项
categories: [Java,Maven]
date: 2016-06-28
tags: [Maven]
---

对于一些其他系统依赖的Jar包，例如 service-api, app-core 之类的，假设当前版本如下：

```xml
<dependency>
  <groupId>com.itzhai</groupId>
  <artifactId>service-api</artifactId>
  <version>1.0.1</version>
</dependency>
```

如果我们要对这个Jar包进行改造，最好是新开一个特性分支，避免影响原有其他项目组正则调试的项目。

如果需要在原有分支上改动，则需要把该分支最新的代码打成Jar包推送到Maven私服，推送完之后再升级版本号为`1.0.2`进行后续的调整。这样有如下作用：

* 对于直接使用maven私服Jar包的项目，直接拉取到`1.0.1`版本的Jar包即是最新的，不影响到该版本下功能的开发；
* 把`1.0.1`最新的代码deploy到Maven，确保了不会用到不是最新的`1.0.1`版本的代码；
* 对于在项目中引入了`service-api`的项目，由于项目版本号升级为了`1.0.2`，此时，如果项目配置不变，会自动去Maven私服上拉取`1.0.1`的Jar包，不影响原有功能。

不过，最好的方式还是在新特性分支上进行修改，修改完确定之后，视改动大小看需不需要升级版本号，然后把代码合并回master(**如果升级了版本号，在合并会master之前请记得把原来master分支的代码重新打包deploy一遍，确保maven私服上面的jar包是最新的**)，提交到master分支的代码记得打包`deploy`到Maven私服，后续改动基于最新的版本号继续进行开发。
